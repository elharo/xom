<project name="XOM documentation" default="all" basedir=".">
    <description>
        Run stylesheets across DocBook source code
    </description>
    
  <!-- set global properties for this build -->
  <property name="src"  location="."/>
  <property name="dist" location="."/>

  <path id="xslt.class.path">
    <pathelement path="/opt/xml/saxon/saxon.jar"/>
    <pathelement path="../lib/xalan.jar"/>
  </path>

  <path id="xinclude.class.path">
    <pathelement path="~/Projects/workspace/xincluder"/>
  </path>

  <path id="xerces.class.path">
     <pathelement path="../lib/dtd-xercesImpl.jar"/> 
     <pathelement path="/opt/xml/xerces/xercesSamples.jar"/> 
     <pathelement path="../lib/xmlParserAPIs.jar"/> 
  </path>
  
  <target name="init">
    <!-- Create the time stamp -->
    <tstamp/>
  </target>

  <!-- finished_tutorial.xml: source
	java com.elharo.xml.xinclude.SAXXIncluder tutorial.xml>finished_tutorial.xml -->
  <target name="finished_tutorial.xml"
          description="Merge original chapters and examples into a single file">
    <java classname="nu.xom.samples.XIncludeDriver" output="finished_tutorial.xml"  fork="yes" failonerror="true">
        <arg line="tutorial.xml"/>
        <classpath refid="xerces.class.path"/>
        <classpath location="../build/classes"/>
        <classpath location="../build/jaxen-classes"/>
        <classpath location="../build/xom-1.1.jar"/>
     </java>
  </target>	
  
  <target name="wellformed" 
          description="Check well-formedness of input documents">
    <java classname="sax.Counter">
      <arg value="tutorial.xml"/>
      <arg value="building.xml"/>
      <arg value="faq.xml"/>
      <arg value="install.xml"/>
      <arg value="license.xml"/>
      <arg value="infoset.xml"/>
      <arg value="xpath.xml"/>
      <arg value="openquestions.xml"/>
      <arg value="futuredirections.xml"/>
      <arg value="faq.xml"/>
      <arg value="testsuite.xml"/>
      <arg value="designprinciples.xml"/>
	
      <classpath refid="xerces.class.path"/>

     </java>
  </target>	
  
  <target name="valid" 
          description="Check validity of input documents">
    <java classname="sax.Counter">
     <arg value="-v"/>
     <arg value="tutorial.xml"/>
     <arg value="faq.xml"/>
     <arg value="infoset.xml"/>
     <arg value="xpath.xml"/>
     <arg value="license.xml"/>
     <arg value="openquestions.xml"/>
     <arg value="futuredirections.xml"/>
     <arg value="testsuite.xml"/>
     <arg value="faq.xml"/>
     <arg value="designprinciples.xml"/>
	
     <classpath refid="xerces.class.path"/>

    </java>
  </target>	
  


  <target name="tutorial" description="Generate a single XHTML document" depends="finished_tutorial.xml">
    <java classname="com.icl.saxon.StyleSheet" output="tutorial.xhtml"  fork="yes"  error="error.txt">
        <arg line="finished_tutorial.xml"/>
        <arg line="tutorial.xsl"/>
        <!-- <arg line="/opt/xml/docbook-xsl/xhtml/docbook.xsl"/> -->
        <classpath refid="xerces.class.path"/>
        <classpath refid="xslt.class.path"/>
     </java>
  </target>	 

  <target name="design" description="">
    <java classname="com.icl.saxon.StyleSheet" output="designprinciples.xhtml"  fork="yes" error="error.txt">
        <arg line="designprinciples.xml"/>
        <arg line="/opt/xml/docbook-xsl/xhtml/docbook.xsl"/>
        <classpath refid="xerces.class.path"/>
        <classpath refid="xslt.class.path"/>
     </java>
  </target>	 

  <target name="license" description="License for XOM">
    <java classname="com.icl.saxon.StyleSheet" output="license.xhtml"  fork="yes"  error="error.txt">
        <arg line="license.xml"/>
        <arg line="/opt/xml/docbook-xsl/xhtml/docbook.xsl"/>
        <classpath refid="xerces.class.path"/>
        <classpath refid="xslt.class.path"/>
     </java>
  </target>	 

 <target name="infoset" description="Infoset Mapping">
    <java classname="com.icl.saxon.StyleSheet" output="infoset.xhtml"  fork="yes"  error="error.txt">
        <arg line="infoset.xml"/>
        <arg line="/opt/xml/docbook-xsl/xhtml/docbook.xsl"/>
        <classpath refid="xerces.class.path"/>
        <classpath refid="xslt.class.path"/>
     </java>
  </target>	 

 <target name="xpath" description="XPath Mapping">
    <java classname="com.icl.saxon.StyleSheet" output="xpath.xhtml"  fork="yes"  error="error.txt">
        <arg line="xpath.xml"/>
        <arg line="/opt/xml/docbook-xsl/xhtml/docbook.xsl"/>
        <classpath refid="xerces.class.path"/>
        <classpath refid="xslt.class.path"/>
     </java>
  </target>	 

  <target name="faq" description="FAQ list for XOM">
    <java classname="com.icl.saxon.StyleSheet" output="faq.xhtml"  fork="yes"  error="error.txt">
        <arg line="faq.xml"/>
        <arg line="/opt/xml/docbook-xsl/xhtml/docbook.xsl"/>
        <classpath refid="xerces.class.path"/>
        <classpath refid="xslt.class.path"/>
     </java>
  </target>	 

  <target name="open" description="Open Questions list for XOM">
    <java classname="com.icl.saxon.StyleSheet" output="openquestions.xhtml"  fork="yes"  error="error.txt">
        <arg line="openquestions.xml"/>
        <arg line="/opt/xml/docbook-xsl/xhtml/docbook.xsl"/>
        <classpath refid="xerces.class.path"/>
        <classpath refid="xslt.class.path"/>
     </java>
  </target>	 

  <target name="future" description="Future Directions for XOM">
    <java classname="com.icl.saxon.StyleSheet" output="futuredirections.xhtml"  fork="yes"  error="error.txt">
        <arg line="futuredirections.xml"/>
        <arg line="/opt/xml/docbook-xsl/xhtml/docbook.xsl"/>
        <classpath refid="xerces.class.path"/>
        <classpath refid="xslt.class.path"/>
     </java>
  </target>	 

  <target name="building" description="How to build XOM">
    <java classname="com.icl.saxon.StyleSheet" output="building.xhtml"  fork="yes"  error="error.txt">
        <arg line="building.xml"/>
        <arg line="/opt/xml/docbook-xsl/xhtml/docbook.xsl"/>
        <classpath refid="xerces.class.path"/>
        <classpath refid="xslt.class.path"/>
     </java>
  </target>	 

  <target name="install" description="How to install XOM">
    <java classname="com.icl.saxon.StyleSheet" output="install.xhtml"  fork="yes"  error="error.txt">
        <arg line="install.xml"/>
        <arg line="/opt/xml/docbook-xsl/xhtml/docbook.xsl"/>
        <classpath refid="xerces.class.path"/>
        <classpath refid="xslt.class.path"/>
     </java>
  </target>	 


  <target name="testsuite" description="How to test XOM">
    <java classname="com.icl.saxon.StyleSheet" output="testsuite.xhtml"  fork="yes"  error="error.txt">
        <arg line="testsuite.xml"/>
        <arg line="/opt/xml/docbook-xsl/xhtml/docbook.xsl"/>
        <classpath refid="xerces.class.path"/>
        <classpath refid="xslt.class.path"/>
     </java>
  </target>	 



  <target name="samples" description="Example code">
    <java classname="com.icl.saxon.StyleSheet" output="samples.xhtml"  fork="yes"  error="error.txt">
        <arg line="samples.xml"/>
        <arg line="/opt/xml/docbook-xsl/xhtml/docbook.xsl"/>
        <classpath refid="xerces.class.path"/>
        <classpath refid="xslt.class.path"/>
     </java>
  </target>	 

  <target name="all" description="" depends="tutorial, faq, infoset, xpath, design, future, open, license, testsuite, samples, install, building">
  </target>	 

  
  
</project>

